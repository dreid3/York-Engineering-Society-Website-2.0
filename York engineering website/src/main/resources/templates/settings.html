<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<link href="../static/css/common.css" th:href="@{/css/common.css}" rel="stylesheet" />
<head th:replace="common :: header">
</head>
<body>
<div class = "common-contentPane">
	<p th:text="${error}?: ''"> </p>
    <i2>Your Profile</i2>
    <form th:action="@{/settings}" th:method="put">
    <input th:value="${user.email}" th:name="email">
    <input th:value="${user.firstname}" th:name="firstname">
    <input th:value="${user.lastname}" th:name="lastname"> <br>
    <i2>Current Password</i2> <input type="password" th:name="currentPassword"/> <br>
    <i2> New Password</i2> <input type="password" th:name="password"/> <br>
    <i3> Subscribed Events</i3>
    <div th:if="${events != null}" th:each="subscribed : ${events}"><br>
    <a th:text="${subscribed.name}" th:href="@{'/events/' + ${subscribed.eventId}}"></a> <br>
    </div>
    <select th:name="notification">
    <option selected th:value="${user.notification}" th:text="${user.notification}">  </option>
    <option value="weekly"> Weekly </option>
    <option value="monthly"> Monthly </option>
    <option value="none"> None </option>
    </select>
    <button type="submit"> Submit account changes </button>
    </form>
    
    <form th:action="@{/profile}" th:method="delete">
    <button type="submit" onclick="return confirm('Are you sure you want to delete your Account?')"> Delete Account </button>
    </form>
</body>
</html>